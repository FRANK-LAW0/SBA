<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Add Result</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
  {% include 'base_nav.html' %}

  <main class="form-container">
    <div class="form-card">
      <div class="form-header">
        <h1><i class="fas fa-plus-circle"></i> Add New Result</h1>
        <p>Enter competition results for athletes</p>
      </div>

      {% with msgs = get_flashed_messages(with_categories=true) %}
      {% if msgs %}
      <div class="flash-messages">
        {% for cat, msg in msgs %}
        <div class="flash flash-{{ cat }}">
          <i class="fas fa-{% if cat == 'success' %}check-circle{% else %}exclamation-circle{% endif %}"></i>
          {{ msg }}
        </div>
        {% endfor %}
      </div>
      {% endif %}
      {% endwith %}

      <form method="post" class="modern-form">
        <div class="form-group">
          <label for="athlete_id">
            <i class="fas fa-user"></i> Athlete ID
          </label>
          <div class="input-with-icon">
            <input type="text" id="athlete_id" name="athlete_id" required placeholder="e.g. ATH001" class="modern-input">
          </div>
          <small class="input-hint">Enter athlete ID</small>
        </div>

        <div class="form-group">
          <label for="event_id">
            <i class="fas fa-calendar-alt"></i> Event
          </label>
          <div class="input-with-icon">
            <input type="text" id="event_id" name="event_id" required placeholder="e.g. EV0001" class="modern-input">
          </div>
          <small class="input-hint">Enter from event ID</small>
        </div>

        <div class="form-group">
          <label for="result">
            <i class="fas fa-stopwatch"></i> Result
          </label>
          <input type="text" id="result" name="result" required placeholder="e.g. 12.34 (time) or 5.67 (distance)" class="modern-input">
          <small class="input-hint">Enter time in seconds or distance in meters</small>
        </div>
        
        <div class="form-group">
          <label for="status">
            <i class="fas fa-info-circle"></i> Status
          </label>
          <select id="status" name="status" class="modern-input" required>
            <option value="">-- Select status --</option>
            <option value="Completed">Completed</option>
            <option value="Not yet started">Not yet started</option>
            <option value="Disqualification">Disqualification</option>
          </select>
          <small class="input-hint">Select the status</small>
        </div>

        <div class="form-actions">
          <button type="submit" class="submit-btn">
            <i class="fas fa-save"></i> Save Result
          </button>
          <a href="{{ url_for('list_results') }}" class="cancel-btn">
            <i class="fas fa-times"></i> Cancel
          </a>
        </div>
      </form>
    </div>
  </main>
</body>

</html>
